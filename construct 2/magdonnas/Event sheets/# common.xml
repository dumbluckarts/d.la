<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name># common</name>
    <events>
        <include># controls</include>
        <variable comment="game time in ticks. 60 ticks = 1 second" constant="0" name="gameTime" sid="509222849306805" static="0" type="number">0</variable>
        <variable comment="which player has control of the game" constant="0" name="playerControl" sid="913479999266849" static="0" type="number">0</variable>
        <event-group description="game events like round timers, game start events, etc." sid="118538209252851" title="# game instance">
            <sub-events>
                <variable comment="in seconds how long do player shave" constant="1" name="TURN_TIME" sid="134221275688356" static="1" type="number">5</variable>
                <comment># start game for now since we dont have any sort of menu</comment>
                <event-block sid="234770159388075">
                    <conditions>
                        <condition id="0" name="On function" sid="280527940556797" type="Function">
                            <param id="0" name="Name">&quot;start_game&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                </event-block>
                <comment>! groups below set to inactive until play_game function is called</comment>
                <event-group description="" inactive="1" sid="142790266703768" title="game time">
                    <sub-events>
                        <event-block sid="212370135086701">
                            <conditions>
                                <condition id="-1" name="Every tick" sid="134889709792662" type="System" />
                            </conditions>
                            <actions>
                                <action id="-10" name="Add to" sid="151706125260634" type="System">
                                    <param id="0" name="Variable">gameTime</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" inactive="1" sid="638577621228308" title="turn timer">
                    <sub-events>
                        <variable constant="0" name="turnTime" sid="559688797604472" static="1" type="number">0</variable>
                        <event-block sid="882723770367333">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="201540850287573" type="System">
                                    <param id="0" name="Variable">turnTime</param>
                                    <param id="1" name="Comparison">5</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-15" name="Set visible" sid="558780029817383" type="turn_timer">
                                    <param id="0" name="Visibility">1</param>
                                </action>
                                <action id="0" name="Set text" sid="305702779919936" type="turn_timer">
                                    <param id="0" name="Text">turnTime &amp; &quot;s remaining.&quot;</param>
                                </action>
                            </actions>
                            <sub-events>
                                <comment>update display on screen for player.</comment>
                                <event-block sid="889389307719660">
                                    <conditions>
                                        <condition id="-6" name="Every X seconds" sid="499629911031422" type="System">
                                            <param id="0" name="Interval (seconds)">1.0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-11" name="Subtract from" sid="648105947404480" type="System">
                                            <param id="0" name="Variable">turnTime</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment># switch to other player</comment>
                        <event-block sid="710313271092559">
                            <conditions>
                                <condition id="-22" name="Else" sid="941825749307716" type="System" />
                            </conditions>
                            <actions>
                                <action id="-15" name="Set visible" sid="981157592473805" type="turn_timer">
                                    <param id="0" name="Visibility">0</param>
                                </action>
                                <action id="0" name="Call function" sid="522398853032328" type="Function">
                                    <param id="0" name="Name">&quot;reset_turn_timer&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="143804670328612">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="564494991034353" type="System">
                                            <param id="0" name="Variable">playerControl</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="328082450263359" type="System">
                                            <param id="0" name="Variable">playerControl</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="908974098780552">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="960305977497250" type="System">
                                            <param id="0" name="Variable">playerControl</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="646686921442804" type="System">
                                            <param id="0" name="Variable">playerControl</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment># reset turn timer at top of screen.</comment>
                        <event-block sid="848754016039388">
                            <conditions>
                                <condition id="0" name="On function" sid="422822676870118" type="Function">
                                    <param id="0" name="Name">&quot;reset_turn_timer&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="442924922232538" type="System">
                                    <param id="0" name="Variable">turnTime</param>
                                    <param id="1" name="Value">TURN_TIME</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <comment>! end groups to be inactive until play_game called.</comment>
            </sub-events>
        </event-group>
        <event-block sid="156228579200905">
            <conditions>
                <condition id="-2" name="On start of layout" sid="459202163420127" type="System" />
            </conditions>
            <actions>
                <action id="0" name="Call function" sid="369454143659305" type="Function">
                    <param id="0" name="Name">&quot;start_game&quot;</param>
                    <param id="1" name="Parameter {n}"></param>
                </action>
            </actions>
        </event-block>
        <event-group description="camera object functions events" sid="257502997194143" title="camera obj">
            <sub-events>
                <comment>disable this group if youd like to turn off camera tracking.</comment>
                <event-group description="" sid="412329274548944" title="auto camera">
                    <sub-events>
                        <event-block sid="406559647097704">
                            <conditions />
                            <actions />
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="808361455015119" title="camera functions">
                    <sub-events>
                        <event-block sid="601636437910208">
                            <conditions />
                            <actions />
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
