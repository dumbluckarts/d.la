<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name># dialogue</name>
    <events>
        <event-group description='note: REQUIRES a &quot;scrollingText&quot; sprite font and a tb_black_overlay textbox with an itemID of &quot;textbox&quot; on the layout.' sid="607830369037573" title="Dialogue Module">
            <sub-events>
                <event-block sid="971583001178290">
                    <conditions>
                        <condition id="3" name="All scripts loaded" sid="268120732159290" type="JS" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-group description="" inactive="1" sid="130745139489390" title="set dialogue">
                            <sub-events>
                                <event-block sid="639580197551494">
                                    <conditions>
                                        <condition id="0" name="On key pressed" sid="504480700549380" type="Keyboard">
                                            <param id="0" name="Key">69</param>
                                        </condition>
                                        <condition id="6" name="Compare value" sid="845257540963543" type="JS">
                                            <param id="0" name="Value">&quot;waiting&quot;</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Expression">&quot;dial.state&quot;</param>
                                            <param id="3" name="Parameter {n}"></param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="300352125718185">
                                            <conditions>
                                                <condition id="6" name="Compare value" sid="684184298170390" type="JS">
                                                    <param id="0" name="Value">0</param>
                                                    <param id="1" name="Comparison">3</param>
                                                    <param id="2" name="Expression">&quot;dial.dat.chars.length&quot;</param>
                                                    <param id="3" name="Parameter {n}"></param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="6" name="Call function" sid="289475279934512" type="JS">
                                                    <param id="0" name="Expression">&quot;dial.clear&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                                <action id="6" name="Call function" sid="790955182397424" type="JS">
                                                    <param id="0" name="Expression">&quot;dial.start&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <comment>set dialogue text</comment>
                                <event-block sid="809832024076231">
                                    <conditions />
                                    <actions>
                                        <action id="0" name="Set text" sid="455870377102024" type="scrollingFont">
                                            <param id="0" name="Text">JS.Value(&quot;dial.output&quot;)</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <comment>if dialogue is finished, close it</comment>
                                <event-block sid="993521527820250">
                                    <conditions>
                                        <condition id="6" name="Compare value" sid="816759430948237" type="JS">
                                            <param id="0" name="Value">0</param>
                                            <param id="1" name="Comparison">5</param>
                                            <param id="2" name="Expression">&quot;dial.dat.chars.length&quot;</param>
                                            <param id="3" name="Parameter {n}"></param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="6" name="Call function" sid="505236479305441" type="JS">
                                            <param id="0" name="Expression">&quot;dial.clear&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                        <action id="0" name="Execute JS code" sid="782493898180628" type="JS">
                                            <param id="0" name="JS code">&quot;dial.dat.state = &apos;finished&apos;&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                        <action id="-12" name="Set group active" sid="285077521816829" type="System">
                                            <param id="0" name="Group name">&quot;set dialogue&quot;</param>
                                            <param id="1" name="State">0</param>
                                        </action>
                                        <action id="-15" name="Set visible" sid="240260700770492" type="scrollingFont">
                                            <param id="0" name="Visibility">0</param>
                                        </action>
                                        <action id="-15" name="Set visible" sid="362316787798948" type="tb_textbox">
                                            <param id="0" name="Visibility">0</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="264910103361496" type="System">
                                            <param id="0" name="Variable">game</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <event-block any="1" sid="587438245216666">
                            <conditions>
                                <condition id="0" name="On function" sid="199998465078896" type="Function">
                                    <param id="0" name="Name">&quot;dial&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="820080191936827">
                                    <conditions>
                                        <condition id="1" name="Compare parameter" sid="333428580454232" type="Function">
                                            <param id="0" name="Index">0</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;start&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-12" name="Set group active" sid="438465215746718" type="System">
                                            <param id="0" name="Group name">&quot;set dialogue&quot;</param>
                                            <param id="1" name="State">1</param>
                                        </action>
                                        <action id="-15" name="Set visible" sid="293123115401911" type="scrollingFont">
                                            <param id="0" name="Visibility">1</param>
                                        </action>
                                        <action id="-15" name="Set visible" sid="185239660387441" type="tb_textbox">
                                            <param id="0" name="Visibility">1</param>
                                        </action>
                                        <action id="6" name="Call function" sid="827853771213448" type="JS">
                                            <param id="0" name="Expression">&quot;dial.start&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                        <action id="-9" name="Set value" sid="472618815198424" type="System">
                                            <param id="0" name="Variable">game</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
